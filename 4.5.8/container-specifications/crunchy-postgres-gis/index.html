<!DOCTYPE html>
<html>
  <head>
    
    <title>Crunchy Data Container Suite Documentation</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.55.6" />
<title>crunchy-postgres-gis :: Crunchy Data Container Suite Documentation</title>
<link rel="shortcut icon" href="https://crunchydata.github.io/crunchy-containers/4.5.8/favicon.png" type="image/x-icon" />
<link href="https://crunchydata.github.io/crunchy-containers/4.5.8/css/nucleus.css" rel="stylesheet">
<link href="https://crunchydata.github.io/crunchy-containers/4.5.8/theme-flex/style.css" rel="stylesheet">

<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
<link href="https://crunchydata.github.io/crunchy-containers/4.5.8/css/Fort-Fonts.css" rel="stylesheet">
<link href="https://crunchydata.github.io/crunchy-containers/4.5.8/css/custom.css" rel="stylesheet">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
<script src="https://crunchydata.github.io/crunchy-containers/4.5.8/js/jquery-2.x.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.bundle.min.js" integrity="sha384-zDnhMsjVZfS3hiP7oCBRmfjkQC4fzxVxFhBx8Hkz2aZX8gEvA/jsP3eXRCvzTofP" crossorigin="anonymous"></script>
<script src="https://crunchydata.github.io/crunchy-containers/4.5.8/js/main.js"></script>
<script src="https://crunchydata.github.io/crunchy-containers/4.5.8/js/toc.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/crunchydata.github.io\/crunchy-containers\/4.5.8";
</script>
<meta name="description" content="">



    
  </head>
  <body data-url="/container-specifications/crunchy-postgres-gis/">
    
      <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
  
<a class="navbar-brand" href="https://www.crunchydata.com/"><img alt="Crunchy Data" src="https://crunchydata.github.io/crunchy-containers/4.5.8/images/logo.svg"></a>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <ul class="navbar-nav mr-auto"></ul>
  <span class="navbar-text">
      <nav class="shortcuts">
              <li class="" role="">
                  <a href="https://github.com/CrunchyData/crunchy-containers" target="_blank" rel="noopener">
                    <i class='fab fa-github'></i> <label>Source</label>
                  </a>
              </li>
              <li class="" role="">
                  <a href="https://kubernetes.io/docs/" target="_blank" rel="noopener">
                    <i class='fas fa-bookmark'></i> <label>Kubernetes</label>
                  </a>
              </li>
              <li class="" role="">
                  <a href="https://github.com/CrunchyData/crunchy-containers/blob/master/LICENSE.md" target="_blank" rel="noopener">
                    <i class='fas fa-file-contract'></i> <label>License</label>
                  </a>
              </li>
      </nav>
  </span>
</nav>

<article>
  <aside>

    <ul class="menu">
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="">
        </div>
        <script type="text/javascript" src="https://crunchydata.github.io/crunchy-containers/4.5.8/js/lunr.min.js"></script>
        <script type="text/javascript" src="https://crunchydata.github.io/crunchy-containers/4.5.8/js/auto-complete.js"></script>
        <link href="https://crunchydata.github.io/crunchy-containers/4.5.8/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/crunchydata.github.io\/crunchy-containers\/4.5.8";
          
        </script>
        <script type="text/javascript" src="https://crunchydata.github.io/crunchy-containers/4.5.8/js/search.js"></script>
      </div>

      <hr>
      <a class="baselink" href="https://crunchydata.github.io/crunchy-containers/4.5.8/">Crunchy Data Container Suite Documentation</a>
      <hr>
        <b>Available Formats</b>
        <nav class="downloads">
                <li class="" role="">
                    <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/pdf/crunchy_containers.pdf" target="_blank" rel="noopener">
                      <i class='fas fa-file-pdf'></i> <label>PDF</label>
                    </a>
                </li>
                <li class="" role="">
                    <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/epub/crunchy_containers.epub" target="_blank" rel="noopener">
                      <i class='fas fa-book'></i> <label>EPUB</label>
                    </a>
                </li>
        </nav>
        <hr>

      <b>Navigation</b>
    <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/overview/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/overview/">Overview</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/overview/overview/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/overview/overview/">
            Container Images
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/overview/supported/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/overview/supported/">
            Supported Platforms
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/client-user-guide/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/client-user-guide/">Client User Guide</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/client-user-guide/user-guide/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/client-user-guide/user-guide/">
            User Guide
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/client-user-guide/usage/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/client-user-guide/usage/">
            Using the Images
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/">Examples</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/postgresql/primary/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/postgresql/primary/">
            PostgreSQL Primary
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/postgresql/custom-config/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/postgresql/custom-config/">
            Custom Configuration of PostgreSQL Container
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/postgresql/custom-config-ssl/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/postgresql/custom-config-ssl/">
            Custom Configuration of PostgreSQL Container with SSL
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/postgresql/primary-replica/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/postgresql/primary-replica/">
            Primary and Streaming Replica Containers
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/postgresql/sync-replica/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/postgresql/sync-replica/">
            Synchronous Replication
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/postgresql/postgis/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/postgresql/postgis/">
            PostGIS Container
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/poolers/pgpool/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/poolers/pgpool/">
            pgPool II
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/backup-restoration/pgbackrest/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/backup-restoration/pgbackrest/">
            pgBackRest
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/backup-restoration/pgbasebackup/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/backup-restoration/pgbasebackup/">
            pgBaseBackup
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/backup-restoration/pgdump-pgrestore/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/backup-restoration/pgdump-pgrestore/">
            pgDump &amp; pgRestore
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/poolers/pgbouncer/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/poolers/pgbouncer/">
            pgBouncer
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/metrics/pgbadger/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/metrics/pgbadger/">
            pgBadger
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/metrics/pgbench/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/metrics/pgbench/">
            pgBench
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/logging/centralized-logging/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/logging/centralized-logging/">
            Centralized Logging
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/logging/pgaudit/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/logging/pgaudit/">
            pgAudit
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/administration/upgrade/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/administration/upgrade/">
            Upgrade
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/administration/pgadmin4/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/examples/administration/pgadmin4/">
            pgAdmin 4
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/installation-guide/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/installation-guide/">Installation Guide</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/installation-guide/installation-guide/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/installation-guide/installation-guide/">
            Installation Guide
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/installation-guide/storage-configuration/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/installation-guide/storage-configuration/">
            Storage Configuration
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/" class="dd-item parent haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/">Container Specifications</a>
            <i class="fas fa-angle-down fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-backrest-restore/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-backrest-restore/">
            crunchy-backrest-restore
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-pgbasebackup-restore/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-pgbasebackup-restore/">
            crunchy-pgbasebackup-restore
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-backup/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-backup/">
            crunchy-backup
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-pgadmin4/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-pgadmin4/">
            crunchy-pgadmin4
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-pgbadger/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-pgbadger/">
            crunchy-pgbadger
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-pgbouncer/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-pgbouncer/">
            crunchy-pgbouncer
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-pgdump/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-pgdump/">
            crunchy-pgdump
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-pgpool/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-pgpool/">
            crunchy-pgpool
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-pgrestore/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-pgrestore/">
            crunchy-pgrestore
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-postgres-gis/" class="dd-item active">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-postgres-gis/">
            crunchy-postgres-gis
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-pgbench/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-pgbench/">
            crunchy-pgbench
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-postgres/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-postgres/">
            crunchy-postgres
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-upgrade/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-upgrade/">
            crunchy-upgrade
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/contributing/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/contributing/">Contributing</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/contributing/building/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/contributing/building/">
            Building the Containers
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/contributing/issues/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/contributing/issues/">
            Submitting Issues
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/contributing/pull-requests/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/contributing/pull-requests/">
            Submitting Pull Requests
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/contributing/documentation-updates/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/contributing/documentation-updates/">
            
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/crunchy-containers/4.5.8/troubleshooting/" class="dd-item
        ">
      <div>
      <a href="https://crunchydata.github.io/crunchy-containers/4.5.8/troubleshooting/">Troubleshooting</a>

      </div>
    </li>




      <hr><nav id="TableOfContents"></nav>



      <section>
      </section>
    </ul>
  </aside>
  <section class="page">

    <div class="nav-select">
      <center>Navigation :
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/overview/" >
   Overview</option>
    <option value="/client-user-guide/" >
   Client User Guide</option>
    <option value="/examples/" >
   Examples</option>
    <option value="/installation-guide/" >
   Installation Guide</option>
    <option value="/container-specifications/" >
   Container Specifications</option> 
      <option value="/container-specifications/crunchy-backrest-restore/" >- crunchy-backrest-restore</option>
      <option value="/container-specifications/crunchy-pgbasebackup-restore/" >- crunchy-pgbasebackup-restore</option>
      <option value="/container-specifications/crunchy-backup/" >- crunchy-backup</option>
      <option value="/container-specifications/crunchy-pgadmin4/" >- crunchy-pgadmin4</option>
      <option value="/container-specifications/crunchy-pgbadger/" >- crunchy-pgbadger</option>
      <option value="/container-specifications/crunchy-pgbouncer/" >- crunchy-pgbouncer</option>
      <option value="/container-specifications/crunchy-pgdump/" >- crunchy-pgdump</option>
      <option value="/container-specifications/crunchy-pgpool/" >- crunchy-pgpool</option>
      <option value="/container-specifications/crunchy-pgrestore/" >- crunchy-pgrestore</option>
      <option value="/container-specifications/crunchy-postgres-gis/"  selected>- crunchy-postgres-gis</option>
      <option value="/container-specifications/crunchy-pgbench/" >- crunchy-pgbench</option>
      <option value="/container-specifications/crunchy-postgres/" >- crunchy-postgres</option>
      <option value="/container-specifications/crunchy-upgrade/" >- crunchy-upgrade</option>
  
    <option value="/contributing/" >
   Contributing</option>
    <option value="/troubleshooting/" >
   Troubleshooting</option>



        </select>
      </center>
    </div>

    
      <div id="top-bar">
        
          
          
          
        <div id="top-github-link">
          <a class="github-link" href="https://crunchydata.github.io/crunchy-containers/4.5.8/contributing/" target="blank">
            <i class="fa fa-info-circle"></i>
            
          </a>
          <a class="github-link" href="https://github.com/CrunchyData/crunchy-containers/edit/master/docs/content/container-specifications/crunchy-postgres-gis.md" target="blank">
            <i class="fa fa-code-fork"></i>
            
          </a>
        </div><div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                <i class="fa fa-bars"></i>
              </a>
            </span>
            <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
            <span class="links">
            







 <a href='https://crunchydata.github.io/crunchy-containers/4.5.8/'>Introduction</a> > <a href='https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/'>Container Specifications</a> > crunchy-postgres-gis

 

 


            </span>
        </div>

      </div>
    

    
    <div id="body-inner">

    <h1>crunchy-postgres-gis</h1>

    

    
    

<p>PostgreSQL (pronounced &ldquo;post-gress-Q-L&rdquo;) is an open source, ACID compliant, relational database management system (RDBMS) developed by a worldwide team of volunteers. The crunchy-postgres-gis container image is unmodified, open source PostgreSQL packaged and maintained by professionals. This image is identical to the crunchy-postgres image except it includes the open source geospatial extension <a href="https://postgis.net/">PostGIS</a> for PostgreSQL in addition to the language extension <a href="http://www.joeconway.com/plr.html">PL/R</a> which allows for writing functions in the R statistical computing language.</p>

<h2 id="features">Features</h2>

<p>The following features are supported by the <code>crunchy-postgres-gis</code> container:</p>

<ul>
<li>Kubernetes and OpenShift secrets</li>
<li>Backup and restoration from various tools: <code>pgbackrest</code>, <code>pg_basebackup</code> and <code>pg_dump</code>/<code>pg_restore</code>.</li>
<li>Custom mounted configuration files (see below)</li>
<li>Async and Sync Replication</li>
<li>PostGIS</li>
<li>PL/R</li>
</ul>

<h2 id="packages">Packages</h2>

<p>The crunchy-postgres-gis Docker image contains the following packages (versions vary depending on PostgreSQL version):</p>

<ul>
<li>PostgreSQL (13.8, 12.12, 11.17, and 10.22)</li>
<li><a href="https://pgbackrest.org/">pgBackRest</a> (2.29)</li>
<li>CentOS 7, UBI 8 - publicly available</li>
<li>UBI 7, UBI 8 - customers only</li>
</ul>

<h2 id="environment-variables">Environment Variables</h2>

<h3 id="required">Required</h3>

<table>
<thead>
<tr>
<th align="left"><strong>Name</strong></th>
<th align="left"><strong>Default</strong></th>
<th align="left"><strong>Description</strong></th>
</tr>
</thead>

<tbody>
<tr>
<td align="left"><strong>PG_DATABASE</strong></td>
<td align="left">None</td>
<td align="left">Set this value to create an initial database</td>
</tr>

<tr>
<td align="left"><strong>PG_PRIMARY_PORT</strong></td>
<td align="left">None</td>
<td align="left">Set this value to configure the primary PostgreSQL port.  It is recommended to use 5432.</td>
</tr>

<tr>
<td align="left"><strong>PG_MODE</strong></td>
<td align="left">None</td>
<td align="left">Set to <code>primary</code>, <code>replica</code> or <code>set</code> to specify the mode of the database</td>
</tr>

<tr>
<td align="left"><strong>PG_USER</strong></td>
<td align="left">None</td>
<td align="left">Set this value to specify the username of the general user account</td>
</tr>

<tr>
<td align="left"><strong>PG_PASSWORD</strong></td>
<td align="left">None</td>
<td align="left">Set this value to specify the password of the user role</td>
</tr>

<tr>
<td align="left"><strong>PG_PRIMARY_USER</strong></td>
<td align="left">None</td>
<td align="left">Set this value to specify the username of the replication user</td>
</tr>

<tr>
<td align="left"><strong>PG_PRIMARY_PASSWORD</strong></td>
<td align="left">None</td>
<td align="left">Set this value to specify the password of the replication user</td>
</tr>

<tr>
<td align="left"><strong>PG_ROOT_PASSWORD</strong></td>
<td align="left">None</td>
<td align="left">Set this value to specify the password of the superuser role</td>
</tr>
</tbody>
</table>

<h3 id="optional">Optional</h3>

<table>
<thead>
<tr>
<th align="left"><strong>Name</strong></th>
<th align="left"><strong>Default</strong></th>
<th align="left"><strong>Description</strong></th>
</tr>
</thead>

<tbody>
<tr>
<td align="left"><strong>ARCHIVE_MODE</strong></td>
<td align="left">Off</td>
<td align="left">Set this value to <code>on</code> to enable continuous WAL archiving</td>
</tr>

<tr>
<td align="left"><strong>ARCHIVE_TIMEOUT</strong></td>
<td align="left">60</td>
<td align="left">Set to a number (in seconds) to configure <code>archive_timeout</code> in <code>postgresql.conf</code></td>
</tr>

<tr>
<td align="left"><strong>CHECKSUMS</strong></td>
<td align="left">Off</td>
<td align="left">Enables <code>data-checksums</code> during initialization of the database.  Can only be set during initial database creation.</td>
</tr>

<tr>
<td align="left"><strong>CRUNCHY_DEBUG</strong></td>
<td align="left">FALSE</td>
<td align="left">Set this to true to enable debugging in logs. Note: this mode can reveal secrets in logs.</td>
</tr>

<tr>
<td align="left"><strong>LOG_STATEMENT</strong></td>
<td align="left">none</td>
<td align="left">Sets the <code>log_statement</code> value in <code>postgresql.conf</code></td>
</tr>

<tr>
<td align="left"><strong>LOG_MIN_DURATION_STATEMENT</strong></td>
<td align="left">60000</td>
<td align="left">Sets the <code>log_min_duration_statement</code> value in <code>postgresql.conf</code></td>
</tr>

<tr>
<td align="left"><strong>MAX_CONNECTIONS</strong></td>
<td align="left">100</td>
<td align="left">Sets the <code>max_connections</code> value in <code>postgresql.conf</code></td>
</tr>

<tr>
<td align="left"><strong>MAX_WAL_SENDERS</strong></td>
<td align="left">6</td>
<td align="left">Set this value to configure the max number of WAL senders (replication)</td>
</tr>

<tr>
<td align="left"><strong>PG_LOCALE</strong></td>
<td align="left">UTF-8</td>
<td align="left">Set the locale of the database</td>
</tr>

<tr>
<td align="left"><strong>PG_PRIMARY_HOST</strong></td>
<td align="left">None</td>
<td align="left">Set this value to specify primary host.  Note: only used when <code>PG_MODE != primary</code></td>
</tr>

<tr>
<td align="left"><strong>PG_REPLICA_HOST</strong></td>
<td align="left">None</td>
<td align="left">Set this value to specify the replica host label.  Note; used when <code>PG_MODE</code> is <code>set</code></td>
</tr>

<tr>
<td align="left"><strong>PGAUDIT_ANALYZE</strong></td>
<td align="left">None</td>
<td align="left">Set this to enable <code>pgaudit_analyze</code></td>
</tr>

<tr>
<td align="left"><strong>PGBOUNCER_PASSWORD</strong></td>
<td align="left">None</td>
<td align="left">Set this to enable <code>pgBouncer</code> support by creating a special <code>pgbouncer</code> user for authentication through the connection pooler.</td>
</tr>

<tr>
<td align="left"><strong>PGDATA_PATH_OVERRIDE</strong></td>
<td align="left">None</td>
<td align="left">Set this value to override the <code>/pgdata</code> directory name.  By default <code>/pgdata</code> uses <code>hostname</code> of the container.  In some cases it may be required to override this with a custom name</td>
</tr>

<tr>
<td align="left"><strong>SHARED_BUFFERS</strong></td>
<td align="left">128MB</td>
<td align="left">Set this value to configure <code>shared_buffers</code> in <code>postgresql.conf</code></td>
</tr>

<tr>
<td align="left"><strong>SYNC_REPLICA</strong></td>
<td align="left">None</td>
<td align="left">Set this value to specify the names of replicas that should use synchronized replication</td>
</tr>

<tr>
<td align="left"><strong>TEMP_BUFFERS</strong></td>
<td align="left">8MB</td>
<td align="left">Set this value to configure <code>temp_buffers</code> in <code>postgresql.conf</code></td>
</tr>

<tr>
<td align="left"><strong>WORK_MEM</strong></td>
<td align="left">4MB</td>
<td align="left">Set this value to configure <code>work_mem</code> in <code>postgresql.conf</code></td>
</tr>

<tr>
<td align="left"><strong>XLOGDIR</strong></td>
<td align="left">None</td>
<td align="left">Set this value to configure PostgreSQL to send WAL to the <code>/pgwal</code> volume (by default WAL is stored in <code>/pgdata</code>)</td>
</tr>

<tr>
<td align="left"><strong>PGBACKREST</strong></td>
<td align="left">false</td>
<td align="left">Set this value to <code>true</code> in order to enable and initialize pgBackRest in the container</td>
</tr>

<tr>
<td align="left"><strong>BACKREST_SKIP_CREATE_STANZA</strong></td>
<td align="left">false</td>
<td align="left">Set this value to <code>true</code> in order to skip the configuration check and the automatic creation of a stanza while initializing pgBackRest in the container</td>
</tr>

<tr>
<td align="left"><strong>PG_CTL_OPTS</strong></td>
<td align="left">None</td>
<td align="left">Set this value to supply custom <code>pg_ctl</code> options (ex: <code>-c shared_preload_libraries=pgaudit</code>) during the initialization phase the container start.</td>
</tr>

<tr>
<td align="left"><strong>PG_CTL_START_TIMEOUT</strong></td>
<td align="left">60</td>
<td align="left">Set this value to determine how long pg_ctl will wait for start to complete. This is set to 60 by default, which is the default value set in PostgreSQL.</td>
</tr>

<tr>
<td align="left"><strong>PG_CTL_STOP_TIMEOUT</strong></td>
<td align="left">60</td>
<td align="left">Set this value to determine how long pg_ctl will wait for shutdown to complete after the container is terminated. This is set to 60 by default, which is the default value set in PostgreSQL. It is recommended that in a Kubernetes environment that you set the <code>terminationGracePeriodSeconds</code> parameter to be two (2) seconds higher than this value.</td>
</tr>

<tr>
<td align="left"><strong>PG_CTL_PROMOTE_TIMEOUT</strong></td>
<td align="left">60</td>
<td align="left">Set this value to determine how long pg_ctl will wait for a promotion to complete. This is set to 60 by default, which is the default value set in PostgreSQL.</td>
</tr>
</tbody>
</table>

<h2 id="volumes">Volumes</h2>

<table>
<thead>
<tr>
<th align="left"><strong>Name</strong></th>
<th align="left"><strong>Description</strong></th>
</tr>
</thead>

<tbody>
<tr>
<td align="left"><strong>/backrestrepo</strong></td>
<td align="left">Volume used by the <code>pgbackrest</code> backup tool to store physical backups.</td>
</tr>

<tr>
<td align="left"><strong>/backup</strong></td>
<td align="left">Volume used by the <code>pg_basebackup</code> backup tool to store physical backups.</td>
</tr>

<tr>
<td align="left"><strong>/pgconf</strong></td>
<td align="left">Volume used to store custom configuration files mounted to the container.</td>
</tr>

<tr>
<td align="left"><strong>/pgdata</strong></td>
<td align="left">Volume used to store the data directory contents for the PostgreSQL database.</td>
</tr>

<tr>
<td align="left"><strong>/pgwal</strong></td>
<td align="left">Volume used to store Write Ahead Log (WAL) when <code>XLOGDIR</code> environment variable is set to <code>true.</code></td>
</tr>

<tr>
<td align="left"><strong>/recover</strong></td>
<td align="left">Volume used for Point In Time Recovery (PITR) during startup of the PostgreSQL database.</td>
</tr>
</tbody>
</table>

<h2 id="custom-configuration">Custom Configuration</h2>

<p>The following configuration files can be mounted to the <code>/pgconf</code> volume in the <code>crunchy-postgres</code> container to customize the runtime:</p>

<table>
<thead>
<tr>
<th align="left"><strong>Name</strong></th>
<th align="left"><strong>Description</strong></th>
</tr>
</thead>

<tbody>
<tr>
<td align="left"><code>ca.crt</code></td>
<td align="left">Certificate of the CA used by the server when using SSL authentication</td>
</tr>

<tr>
<td align="left"><code>ca.crl</code></td>
<td align="left">Revocation list of the CA used by the server when using SSL authentication</td>
</tr>

<tr>
<td align="left"><code>pg_hba.conf</code></td>
<td align="left">Client authentication rules for the database</td>
</tr>

<tr>
<td align="left"><code>pg_ident.conf</code></td>
<td align="left">Mapping of external users (such as SSL certs, GSSAPI, LDAP) to database users</td>
</tr>

<tr>
<td align="left"><code>postgresql.conf</code></td>
<td align="left">PostgreSQL settings</td>
</tr>

<tr>
<td align="left"><code>server.key</code></td>
<td align="left">Key used by the server when using SSL authentication</td>
</tr>

<tr>
<td align="left"><code>server.crt</code></td>
<td align="left">Certificate used by the server when using SSL authentication</td>
</tr>

<tr>
<td align="left"><code>setup.sql</code></td>
<td align="left">Custom SQL to execute against the database.  Note: only run during the first startup (initialization)</td>
</tr>
</tbody>
</table>

<h2 id="verifying-pl-r">Verifying PL/R</h2>

<p>In order to verify the successful initialization of the PL/R extension, the following commands can be run:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#00a8c8">create</span> <span style="color:#111">extension</span> <span style="color:#111">plr</span><span style="color:#111">;</span>
<span style="color:#00a8c8">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#00a8c8">FROM</span> <span style="color:#111">plr_environ</span><span style="color:#111">();</span>
<span style="color:#00a8c8">SELECT</span> <span style="color:#111">load_r_typenames</span><span style="color:#111">();</span>
<span style="color:#00a8c8">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#00a8c8">FROM</span> <span style="color:#111">r_typenames</span><span style="color:#111">();</span>
<span style="color:#00a8c8">SELECT</span> <span style="color:#111">plr_array_accum</span><span style="color:#111">(</span><span style="color:#d88200">&#39;{23,35}&#39;</span><span style="color:#111">,</span> <span style="color:#ae81ff">42</span><span style="color:#111">);</span>
<span style="color:#00a8c8">CREATE</span> <span style="color:#00a8c8">OR</span> <span style="color:#00a8c8">REPLACE</span> <span style="color:#00a8c8">FUNCTION</span> <span style="color:#111">plr_array</span> <span style="color:#111">(</span><span style="color:#111">text</span><span style="color:#111">,</span> <span style="color:#111">text</span><span style="color:#111">)</span>
<span style="color:#00a8c8">RETURNS</span> <span style="color:#111">text</span><span style="color:#111">[]</span>
<span style="color:#00a8c8">AS</span> <span style="color:#d88200">&#39;$libdir/plr&#39;</span><span style="color:#111">,</span><span style="color:#d88200">&#39;plr_array&#39;</span>
<span style="color:#00a8c8">LANGUAGE</span> <span style="color:#d88200">&#39;c&#39;</span> <span style="color:#00a8c8">WITH</span> <span style="color:#111">(</span><span style="color:#111">isstrict</span><span style="color:#111">);</span>
<span style="color:#00a8c8">select</span> <span style="color:#111">plr_array</span><span style="color:#111">(</span><span style="color:#d88200">&#39;hello&#39;</span><span style="color:#111">,</span><span style="color:#d88200">&#39;world&#39;</span><span style="color:#111">);</span></code></pre></div>


    
      <div class="chevrons">
  <div id="navigation">
<a class="nav nav-prev" href="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-pgrestore/" title="crunchy-pgrestore"> <i class="fa fa-chevron-left"></i><label>crunchy-pgrestore</label></a>
    <a class="nav nav-next" href="https://crunchydata.github.io/crunchy-containers/4.5.8/container-specifications/crunchy-pgbench/" title="crunchy-pgbench" style="margin-right: 0px;"><label>crunchy-pgbench</label><i class="fa fa-chevron-right"></i></a></div>
</div>

</section>
</article>

<footer>

<div class="footline">
  

  



</div>


<div>
</div>

<div class="text-center">
  <p><small>&copy; 2017 - 2022 Crunchy Data Solutions, Inc.</small></p>
</div>


</footer>

<link href="https://crunchydata.github.io/crunchy-containers/4.5.8/css/featherlight.min.css" rel="stylesheet">
<script src="https://crunchydata.github.io/crunchy-containers/4.5.8/js/featherlight.min.js"></script>

<script src="https://crunchydata.github.io/crunchy-containers/4.5.8/theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>
