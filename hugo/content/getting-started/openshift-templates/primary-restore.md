---
title: "Primary Restore"
date: 2018-05-15T07:22:51-07:00
draft: false
---

v2.0

The Crunchy PostgreSQL Primary Restore Template creates a single primary pod from a `pg_basebackup` physical backup.

## Objects

The Crunchy PostreSQL Primary Template creates the following objects:

* PostgreSQL Secret - usernames and passwords generated from the template
* PGData PVC - Volume where PostgreSQL database will be stored
* Primary Service - Service connected to the Primary Pod
* Primary Pod - Primary database pod

## Storage

This template assumes `STORAGE_CLASS` volumes will be used.

The template assumes a **BACKUP PVC** has been created and contains a backup.

## Form Required
**Name**|**Description**
:-----|:-----
**VOLUME_STORAGE_CLASS**|Name of the Storage Class that provides persistence for the container.
**BACKUP_PVC_NAME**|Name of the PVC where the physical backups are stored.
**BACKUP_DATE**|Timestamp of the backup to use from the Crunchy Backup job.
**BACKUP_HOSTNAME**|Hostname of the backed up database.
**PG_USER**|Username of the backed up database (can be retrieved from existing secrets generated by Crunchy PostgreSQL Templates).
**PG_PASSWORD**|Password of the PG_USER from the backed up database (can be retrieved from existing secrets generated by Crunchy PostgreSQL Templates).
**PG_DATABASE**|Database of the backed up database (can be retrieved from existing secrets generated by Crunchy PostgreSQL Templates).
**PG_PRIMARY_USER**|Replication username of the backed up database (can be retrieved from existing secrets generated by Crunchy PostgreSQL Templates).
**PG_PRIMARY_PASSWORD**|Replication username password of the backed up database (can be retrieved from existing secrets generated by Crunchy PostgreSQL Templates).
**PG_PRIMARY_PASSWORD**|Superuser password of the backed up database (can be retrieved from existing secrets generated by Crunchy PostgreSQL Templates).**|Replication username password of the backed up database (can be retrieved from existing secrets generated by Crunchy PostgreSQL Templates).
