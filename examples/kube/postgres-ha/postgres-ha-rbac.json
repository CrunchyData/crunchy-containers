{
   "apiVersion":"v1",
   "kind":"ServiceAccount",
   "metadata":{
      "name":"postgres-ha-sa",
      "labels":{
         "application":"postgres-ha",
         "name":"postgres-ha-sa",
         "cleanup":"$CCP_NAMESPACE-postgres-ha"
      }
   }
}

{
   "apiVersion":"rbac.authorization.k8s.io/v1",
   "kind":"Role",
   "metadata":{
      "name":"postgres-ha-role",
      "labels":{
         "application":"postgres-ha",
         "name":"postgres-ha-role",
         "cleanup":"$CCP_NAMESPACE-postgres-ha"
      }
   },
   "rules":[
      {
         "apiGroups":[
            ""
         ],
         "resources":[
            "configmaps"
         ],
         "verbs":[
            "create",
            "get",
            "list",
            "patch",
            "update",
            "watch",
            "delete",
            "deletecollection"
         ]
      },
      {
         "apiGroups":[
            ""
         ],
         "resources":[
            "pods/exec"
         ],
         "verbs":[
            "create"
         ]
      },
      {
         "apiGroups":[
            ""
         ],
         "resources":[
            "pods"
         ],
         "verbs":[
            "get",
            "list",
            "patch",
            "update",
            "watch"
         ]
      }
   ]
}

{
   "apiVersion":"rbac.authorization.k8s.io/v1",
   "kind":"RoleBinding",
   "metadata":{
      "name":"postgres-ha-rolebinding",
      "labels":{
         "application":"postgres-ha",
         "name":"postgres-ha-rolebinding",
         "cleanup":"$CCP_NAMESPACE-postgres-ha"
      }
   },
   "roleRef":{
      "apiGroup":"rbac.authorization.k8s.io",
      "kind":"Role",
      "name":"postgres-ha-role"
   },
   "subjects":[
      {
         "kind":"ServiceAccount",
         "name":"postgres-ha-sa"
      }
   ]
}
 